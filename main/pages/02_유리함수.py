 import streamlit as st
import random

st.title("ğŸ“˜ ìœ ë¦¬í•¨ìˆ˜ ë¬¸ì œí’€ì´ O/X ë§ì¶”ê¸°")

# -----------------------------
# 1ï¸âƒ£ ë‚œì´ë„ ì„ íƒ
# -----------------------------
difficulty = st.number_input("ë‚œì´ë„ë¥¼ ì„ íƒí•˜ì„¸ìš” (1~6)", min_value=1, max_value=6, step=1)

# -----------------------------
# 2ï¸âƒ£ ë¬¸ì œ ë°ì´í„°ë² ì´ìŠ¤ (ì˜ˆì‹œ)
# -----------------------------
problems = {
    1: [
        {"question": "í•¨ìˆ˜ f(x) = 1/x ëŠ” ì •ì˜ì—­ì´ ëª¨ë“  ì‹¤ìˆ˜ì´ë‹¤.", "solution": "0ì—ì„œëŠ” ì •ì˜ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ í‹€ë¦¼.", "answer": "X"},
        {"question": "f(x) = 2/x ì—ì„œ x=1ì¼ ë•Œ f(x)=2ì´ë‹¤.", "solution": "x=1 ë„£ìœ¼ë©´ f(1)=2/1=2 â†’ ë§ìŒ.", "answer": "O"},
    ],
    2: [
        {"question": "f(x)=3/(x-1) ì˜ ì ê·¼ì„ ì€ x=1 ì´ë‹¤.", "solution": "ë¶„ëª¨ê°€ 0ì´ ë˜ëŠ” x=1 â†’ ë§ìŒ.", "answer": "O"},
        {"question": "f(x)=1/(x+2) ëŠ” x=-2ì—ì„œ ì •ì˜ëœë‹¤.", "solution": "x=-2ì—ì„œ ë¶„ëª¨ 0 â†’ ì •ì˜ë˜ì§€ ì•ŠìŒ.", "answer": "X"},
    ],
    3: [
        {"question": "f(x)=1/(x-2)+3 ì˜ ìˆ˜í‰ì ê·¼ì„ ì€ y=3ì´ë‹¤.", "solution": "ìœ ë¦¬í•¨ìˆ˜ì˜ ê¸°ë³¸í˜• a/(x-h)+k â†’ ìˆ˜í‰ì ê·¼ì„  y=k=3", "answer": "O"},
        {"question": "f(x)=2/(x+1) ì˜ ìˆ˜ì§ì ê·¼ì„ ì€ x=2 ì´ë‹¤.", "solution": "ë¶„ëª¨ 0 â†’ x=-1, ë”°ë¼ì„œ x=2 ì•„ë‹˜.", "answer": "X"},
    ],
    4: [
        {"question": "f(x)=1/(x-3)+2 ì˜ ê·¸ë˜í”„ëŠ” yì¶• ëŒ€ì¹­ì´ë‹¤.", "solution": "xâ†’-x ëŒ€ì… ì‹œ í˜•íƒœ ë‹¬ë¼ì§ â†’ ëŒ€ì¹­ ì•„ë‹˜.", "answer": "X"},
        {"question": "f(x)=1/(x-2)+1 ì€ ì  (3,2)ë¥¼ ì§€ë‚œë‹¤.", "solution": "f(3)=1/(3-2)+1=2 â†’ ë§ìŒ.", "answer": "O"},
    ],
    5: [
        {"question": "f(x)=1/x ì˜ ê·¸ë˜í”„ë¥¼ xì¶•ìœ¼ë¡œ ëŒ€ì¹­ì´ë™í•˜ë©´ f(x)=-1/x.", "solution": "xì¶• ëŒ€ì¹­ â†’ y ë¶€í˜¸ ë°”ë€œ â†’ ë§ìŒ.", "answer": "O"},
        {"question": "f(x)=1/x ë¥¼ yì¶•ìœ¼ë¡œ ëŒ€ì¹­ì´ë™í•˜ë©´ f(x)=1/x.", "solution": "yì¶• ëŒ€ì¹­ â†’ xâ†’-x â†’ f(x)=1/(-x)=-1/x â†’ ë‹¬ë¼ì§.", "answer": "X"},
    ],
    6: [
        {"question": "f(x)=2/(x-1)+3 ì˜ ì •ì˜ì—­ì€ xâ‰ 1 ì´ë‹¤.", "solution": "ë¶„ëª¨ 0 ë˜ëŠ” x=1 ì œì™¸ â†’ ë§ìŒ.", "answer": "O"},
        {"question": "f(x)=1/(x-4)-2 ì˜ ìˆ˜í‰ì ê·¼ì„ ì€ y=-4 ì´ë‹¤.", "solution": "ê¸°ë³¸í˜• a/(x-h)+k â†’ ìˆ˜í‰ì ê·¼ì„  y=k=-2 â†’ í‹€ë¦¼.", "answer": "X"},
    ]
}

# -----------------------------
# 3ï¸âƒ£ ë¬¸ì œ ìƒì„±
# -----------------------------
if st.button("ë¬¸ì œ ìƒì„±"):
    problem = random.choice(problems[difficulty])
    st.session_state["problem"] = problem

# -----------------------------
# 4ï¸âƒ£ ë¬¸ì œ í‘œì‹œ ë° í’€ì´ í™•ì¸
# -----------------------------
if "problem" in st.session_state:
    problem = st.session_state["problem"]

    st.subheader("ë¬¸ì œ ğŸ“–")
    st.write(problem["question"])

    st.text_area("í’€ì´ ë³´ê¸°", problem["solution"], height=100)

    st.write("ì •ë‹µì„ ì„ íƒí•˜ì„¸ìš” ğŸ‘‡")
    user_answer = st.radio("ë‹¹ì‹ ì˜ ì„ íƒ:", ["O", "X"])

    if st.button("ì •ë‹µ í™•ì¸"):
        if user_answer == problem["answer"]:
            st.success("ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ì •ë‹µì…ë‹ˆë‹¤!")
        else:
            st.error("âŒ ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”.")
